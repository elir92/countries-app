(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{119:function(e,t,n){"use strict";var a=n(1),r=n.n(a);n(120);t.a=function(){return r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement("div",{className:"Loader"}))}},120:function(e,t,n){},153:function(e,t,n){},155:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(10),l=n(12),o=n(11),c=n(13),u=n(1),i=n.n(u),s=n(17),d=n(0),m=n.n(d),p=n(32),h=n.n(p),f=n(39),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var E=function(e){var t=function(t){var n=t.wrappedComponentRef,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["wrappedComponentRef"]);return i.a.createElement(f.a,{children:function(t){return i.a.createElement(e,b({},a,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:m.a.func},h()(t,e)},g=n(15),v=n(27),w=n(5),y=function(){return i.a.createElement("thead",{className:"Table-thead"},i.a.createElement("tr",null,i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Capital"),i.a.createElement("th",null,"Region")))},O=function(e){return i.a.createElement("tbody",null,e.children)},j=function(e){var t=e.searchField,n=e.countries,a=e.filtered,r=e.modal,l=function(e){return e.map(function(e){return i.a.createElement("tr",{onClick:function(){return r(e)},key:e.alpha3Code},i.a.createElement("td",null,e.name),i.a.createElement("td",null,""!==e.capital?e.capital:i.a.createElement("b",null,"Unknown")),i.a.createElement("td",null,""!==e.region?e.region:i.a.createElement("b",null,"Unknown")))})};return t.length?l(a):l(n)},C=(n(153),function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modal,n=e.toggleHandler,a=e.currentCountry;return i.a.createElement(w.j,{isOpen:t,toggle:n,className:"country-modal"},i.a.createElement(w.l,{toggle:n},a.name),i.a.createElement(w.k,null,i.a.createElement(w.b,{className:"country-card"},i.a.createElement(w.d,{src:a.flag,alt:"Card image cap",className:"flag-img"}),i.a.createElement(w.c,null,i.a.createElement(w.f,{className:"card-title"},"Located in ",""!==a.region?a.region:"Unknown"),i.a.createElement(w.e,null,"The capital city is ",""!==a.capital?a.capital:"unknown",". ",i.a.createElement("br",null),"Population number is ",a.population,".  ",i.a.createElement("br",null),"Alpha 3 Code is ",i.a.createElement("b",null,a.alpha3Code),".")))))}}]),t}(i.a.Component)),k=Object(s.b)(function(e){return{modal:e.tableReducer.modal,currentCountry:e.tableReducer.currentCountry}},function(e){return{toggleHandler:function(){return e(Object(v.b)())}}})(C),H=n(119),B=function(e){var t=e.searchField,n=e.showButton,a=e.count,r=e.load;return t.length?null:i.a.createElement("div",{className:"d-flex justify-content-center"},!n||a>10?null:i.a.createElement(w.a,{className:"Button-table",onClick:function(){return r()}},"Load More"))},F=function(e){var t=e.search;return i.a.createElement(u.Fragment,null,i.a.createElement("label",null,"Search"),i.a.createElement("input",{onChange:t,type:"text"}))},N=(n(155),function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={count:10,showButton:!0,height:window.innerHeight},n.handleScroll=function(){var e=document.getElementById("scrolledTable");n.isBottom(e)&&n.loadMoreHandler()},n.loadMoreHandler=function(){n.state.count!==n.props.countries.length&&n.setState(function(e,t){return{count:e.count+20}})},n.loadMoreButton=function(){n.setState(function(e,t){return{count:e.count+20,showButton:!1}})},n.renderTable=function(){var e=n.props,t=e.countries,a=e.searchField,r=e.searchFieldHandler,l=e.ModalStateHandler,o=t.slice(0,n.state.count),c=t.filter(function(e){return e.name.toLowerCase().includes(a.toLowerCase())});return o.length?i.a.createElement(u.Fragment,null,i.a.createElement(F,{search:r}),i.a.createElement(w.t,{id:"scrolledTable",className:"Table",striped:!0,bordered:!0,responsive:!0},i.a.createElement(y,null),i.a.createElement(O,null,i.a.createElement(j,{searchField:a,countries:o,filtered:c,modal:l}))),i.a.createElement(B,{searchField:a,showButton:n.state.showButton,count:n.state.count,load:n.loadMoreButton})):i.a.createElement(H.a,null)},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.countries.length||this.props.requestCountriesHandler(),window.addEventListener("scroll",this.handleScroll),this.state.height>850?this.setState({count:10}):this.setState({count:4}),this.props.restartGameHandler()}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.count<=e.countries.length}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"isBottom",value:function(e){return e.getBoundingClientRect().bottom<=window.innerHeight}},{key:"render",value:function(){return i.a.createElement(u.Fragment,null,this.props.isPending?i.a.createElement(H.a,null):this.renderTable(),i.a.createElement(k,null))}}]),t}(i.a.Component)),R=Object(g.d)(E,Object(s.b)(function(e){return{countries:e.tableReducer.countries,isPending:e.tableReducer.isPending,searchField:e.tableReducer.searchField}},function(e){return{requestCountriesHandler:function(){return e(Object(v.c)())},searchFieldHandler:function(t){return e(Object(v.g)(t.target.value))},ModalStateHandler:function(t){return e(Object(v.f)(t))},restartGameHandler:function(){return e(Object(v.e)())}}}));t.default=R(N)}}]);
//# sourceMappingURL=1.e1bacb0f.chunk.js.map