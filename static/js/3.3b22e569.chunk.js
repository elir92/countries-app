(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{157:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(9),c=n(11),l=n(10),u=n(12),o=n(1),i=n.n(o),s=n(23),m=n(76),d=n(5),g=n(29),f=n.n(g),p=(n(157),n(160),n(162),function(e){return i.a.createElement("div",{className:"Done"},i.a.createElement("h1",null,"Finish!"),i.a.createElement("h3",null,"You answered correctly on ",e.score," ",1===e.score?"question":"questions"),i.a.createElement("hr",null),i.a.createElement(d.a,{onClick:e.restart,color:"secondary",size:"lg"},"Back"))}),h=function(e){var t=e.context,n=e.className;return i.a.createElement("div",{className:n},i.a.createElement("span",null,t))},y=function(e){var t=e.reset;return i.a.createElement("div",{className:"Restart-Button"},i.a.createElement(d.a,{onClick:t,color:"secondary",outline:!0},"Restart"))},w=function(e){var t=e.game,n=e.stage,a=e.flag,r=e.rightAnswerFlagId,c=e.wrongAnswerFlagId,l=e.click,u=e.answerFlag,o=t[n].map(function(e){return i.a.createElement("li",{key:e.alpha3Code},i.a.createElement(d.a,{disabled:u,className:"Answer-Button",onClick:function(){return l(e.name,a.name,e.alpha3Code)},color:"secondary"},e.name),c===e.alpha3Code?i.a.createElement("i",{className:"far fa-times-circle wrong-ans"}):null,r===e.alpha3Code?i.a.createElement("i",{className:"far fa-check-circle right-ans"}):null)});return i.a.createElement("ul",null,o)},v=function(e){var t=e.flag;return i.a.createElement("div",{className:"Flag-Img",style:{backgroundImage:"url(".concat(t,")")}})},E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(u)))).state={wrongId:"",rightId:"",nextStage:!1,answerFlag:!1,countRightAnswer:0,timer:7},n.answerHandler=function(e,t,a){e===t?(n.setState(function(e,t){return{countRightAnswer:e.countRightAnswer+1,rightId:a,wrongId:"",answerFlag:!0}}),setTimeout(function(){return n.nextStageHandler(n.props.currentStage)},1e3)):(n.setState({wrongAnswer:!0,wrongId:a,rightId:"",answerFlag:!0}),setTimeout(function(){return n.nextStageHandler(n.props.currentStage)},1e3))},n.renderStage=function(){var e=n.props,t=e.game,a=e.currentStage,r=e.randomFlag,c=e.restartGameHandler;return i.a.createElement(d.s,null,i.a.createElement(d.g,{sm:"12",md:"6",className:"Flag-Col"},i.a.createElement(v,{flag:r.flag})),i.a.createElement(d.g,{sm:"12",md:"6",className:"Answer-Col"},i.a.createElement(h,{className:"Timer-Avatar",context:n.state.timer}),i.a.createElement(h,{className:"Stage-Avatar",context:a+1}),i.a.createElement(y,{reset:c}),i.a.createElement(w,{game:t,stage:a,flag:r,click:n.answerHandler,wrongAnswerFlagId:n.state.wrongId,rightAnswerFlagId:n.state.rightId,answerFlag:n.state.answerFlag})))},n.renderGame=function(){return 10!==n.props.currentStage?n.renderStage():i.a.createElement(p,{score:n.state.countRightAnswer,restart:n.props.restartGameHandler})},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"tick",value:function(){this.setState(function(e){return{timer:e.timer-1}})}},{key:"nextStageHandler",value:function(e){this.props.answerHandler(e),this.setState({answerFlag:!1,timer:7})}},{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.tick()},1200)}},{key:"shouldComponentUpdate",value:function(e,t){return t.timer>=0}},{key:"componentDidUpdate",value:function(e,t){this.state.timer||this.nextStageHandler(this.props.currentStage),10===e.currentStage&&clearInterval(this.timerID)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return i.a.createElement("div",{className:"Quiz-Game"},this.renderGame())}}]),t}(o.Component),b=Object(s.b)(function(e){return{game:e.gameReducer.game,currentStage:e.gameReducer.currentStage,randomFlag:e.gameReducer.randomFlag}},function(e){return{restartGameHandler:function(){return e(Object(m.e)())},answerHandler:function(t){return e(Object(m.a)(t))}}})(E),k=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(u)))).renderIntro=function(){return i.a.createElement("div",{className:"Flag-Intro"},i.a.createElement("h1",{className:"Flag-Title"},"Flags Quiz Game"),i.a.createElement("img",{src:f.a,className:"Flag-logo",alt:"globe"}),i.a.createElement(d.a,{onClick:n.props.startGameHandler,color:"secondary",size:"lg"},"Start Game"))},n.renderGame=function(){return n.props.gameStatus?i.a.createElement(b,null):n.renderIntro()},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.countries.length||this.props.requestCountriesHandler()}},{key:"componentWillUnmount",value:function(){this.props.restartGameHandler()}},{key:"render",value:function(){return this.props.countries.length?this.renderGame():i.a.createElement("h1",{style:{textAlign:"center"},className:"Flag-Title"},"Loading...")}}]),t}(o.Component);t.default=Object(s.b)(function(e){return{countries:e.tableReducer.countries,isPending:e.tableReducer.isPending,gameStatus:e.gameReducer.gameStatus}},function(e){return{requestCountriesHandler:function(){return e(Object(m.c)())},startGameHandler:function(){return e(Object(m.h)())},restartGameHandler:function(){return e(Object(m.e)())}}})(k)},76:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"h",function(){return s}),n.d(t,"e",function(){return m}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return g});var a=n(93),r=n.n(a),c=n(3),l=function(){return function(e){e({type:c.h}),r.a.get("https://restcountries.eu/rest/v2/all?fields=name;flag;alpha3Code;capital;region;population").then(function(t){return e({type:c.i,payload:t.data})}).catch(function(t){return e({type:c.d,payload:t})})}},u=function(e){return{type:c.b,payload:e}},o=function(e){return{type:c.k,payload:e}},i=function(){return{type:c.c}},s=function(){return{type:c.l}},m=function(){return{type:c.j}},d=function(e){return{type:c.a,payload:e+1}},g=function(){return function(e){e({type:c.f}),r.a.get("https://restcountries.eu/rest/v2/all?fields=name;region;population").then(function(t){return e({type:c.g,payload:t.data})}).catch(function(t){return e({type:c.e,payload:t})})}}}}]);
//# sourceMappingURL=3.3b22e569.chunk.js.map