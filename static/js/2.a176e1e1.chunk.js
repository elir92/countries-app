(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{157:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(10),c=n(12),l=n(11),s=n(13),o=n(1),u=n.n(o),i=n(17),m=n(27),g=n(5),d=n(38),f=n.n(d),h=(n(157),n(160),n(162),function(e){return u.a.createElement("div",{className:"Done"},u.a.createElement("h1",null,"Finish!"),u.a.createElement("h3",null,"You answered correctly on ",e.score," ",1===e.score?"question":"questions"),u.a.createElement("hr",null),u.a.createElement(g.a,{onClick:e.restart,color:"secondary",size:"lg"},"Back"))}),p=function(e){var t=e.context,n=e.className;return u.a.createElement("div",{className:n},u.a.createElement("span",null,t))},w=function(e){var t=e.reset;return u.a.createElement("div",{className:"Restart-Button"},u.a.createElement(g.a,{onClick:t,color:"secondary",outline:!0},"Restart"))},v=function(e){var t=e.game,n=e.stage,a=e.flag,r=e.rightAnswerFlagId,c=e.wrongAnswerFlagId,l=e.click,s=e.answerFlag,o=t[n].map(function(e){return u.a.createElement("li",{key:e.alpha3Code},u.a.createElement(g.a,{disabled:s,className:"Answer-Button",onClick:function(){return l(e.name,a.name,e.alpha3Code)},color:"secondary"},e.name),c===e.alpha3Code?u.a.createElement("i",{className:"far fa-times-circle wrong-ans"}):null,r===e.alpha3Code?u.a.createElement("i",{className:"far fa-check-circle right-ans"}):null)});return u.a.createElement("ul",null,o)},E=function(e){var t=e.flag;return u.a.createElement("div",{className:"Flag-Img",style:{backgroundImage:"url(".concat(t,")")}})},b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={wrongId:"",rightId:"",nextStage:!1,answerFlag:!1,countRightAnswer:0,timer:7},n.answerHandler=function(e,t,a){e===t?(n.setState(function(e,t){return{countRightAnswer:e.countRightAnswer+1,rightId:a,wrongId:"",answerFlag:!0}}),setTimeout(function(){return n.nextStageHandler(n.props.currentStage)},1e3)):(n.setState({wrongAnswer:!0,wrongId:a,rightId:"",answerFlag:!0}),setTimeout(function(){return n.nextStageHandler(n.props.currentStage)},1e3))},n.renderStage=function(){var e=n.props,t=e.game,a=e.currentStage,r=e.randomFlag,c=e.restartGameHandler;return u.a.createElement(g.s,null,u.a.createElement(g.g,{sm:"12",md:"6",className:"Flag-Col"},u.a.createElement(E,{flag:r.flag})),u.a.createElement(g.g,{sm:"12",md:"6",className:"Answer-Col"},u.a.createElement(p,{className:"Timer-Avatar",context:n.state.timer}),u.a.createElement(p,{className:"Stage-Avatar",context:a+1}),u.a.createElement(w,{reset:c}),u.a.createElement(v,{game:t,stage:a,flag:r,click:n.answerHandler,wrongAnswerFlagId:n.state.wrongId,rightAnswerFlagId:n.state.rightId,answerFlag:n.state.answerFlag})))},n.renderGame=function(){return 10!==n.props.currentStage?n.renderStage():u.a.createElement(h,{score:n.state.countRightAnswer,restart:n.props.restartGameHandler})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"tick",value:function(){this.setState(function(e){return{timer:e.timer-1}})}},{key:"nextStageHandler",value:function(e){this.props.answerHandler(e),this.setState({answerFlag:!1,timer:7})}},{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.tick()},1200)}},{key:"shouldComponentUpdate",value:function(e,t){return t.timer>=0}},{key:"componentDidUpdate",value:function(e,t){this.state.timer||this.nextStageHandler(this.props.currentStage),10===e.currentStage&&clearInterval(this.timerID)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return u.a.createElement("div",{className:"Quiz-Game"},this.renderGame())}}]),t}(o.Component),S=Object(i.b)(function(e){return{game:e.gameReducer.game,currentStage:e.gameReducer.currentStage,randomFlag:e.gameReducer.randomFlag}},function(e){return{restartGameHandler:function(){return e(Object(m.e)())},answerHandler:function(t){return e(Object(m.a)(t))}}})(b),k=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).renderIntro=function(){return u.a.createElement("div",{className:"Flag-Intro"},u.a.createElement("h1",{className:"Flag-Title"},"Flags Quiz Game"),u.a.createElement("img",{src:f.a,className:"Flag-logo",alt:"globe"}),u.a.createElement(g.a,{onClick:n.props.startGameHandler,color:"secondary",size:"lg"},"Start Game"))},n.renderGame=function(){return n.props.gameStatus?u.a.createElement(S,null):n.renderIntro()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.countries.length||this.props.requestCountriesHandler()}},{key:"render",value:function(){return this.props.countries.length?this.renderGame():u.a.createElement("h1",{style:{textAlign:"center"},className:"Flag-Title"},"Loading...")}}]),t}(o.Component);t.default=Object(i.b)(function(e){return{countries:e.tableReducer.countries,isPending:e.tableReducer.isPending,gameStatus:e.gameReducer.gameStatus}},function(e){return{requestCountriesHandler:function(){return e(Object(m.c)())},startGameHandler:function(){return e(Object(m.h)())}}})(k)}}]);
//# sourceMappingURL=2.a176e1e1.chunk.js.map